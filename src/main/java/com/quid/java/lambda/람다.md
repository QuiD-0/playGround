# 람다

자바의 람다는 함수형 인터페이스를 구현하는 익명 클래스의 축약형이다.  
하지만 `익명 클래스 !== 람다`  
람다를 사용하면 코드가 간결해지고 가독성이 좋아진다.   

람다를 사용하기 위해서는 함수형 인터페이스가 필요하다.  
함수형 인터페이스는 단 하나의 추상 메서드만을 가지는 인터페이스를 의미한다.  

람다를 사용하기 위해서는 `@FunctionalInterface` 어노테이션을 붙여주는 것이 좋다.  
이 어노테이션을 붙이면 컴파일러가 함수형 인터페이스의 규칙을 체크해준다.  

람다는 컴파일 시점에 invokedynamic 바이트코드로 변환되고,  
런타임 시 invokedynamic이 실행되면 JVM은 LambdaMetafactory를 통해
정적 메서드를 참조하는 함수형 인터페이스 구현 객체를 동적으로 생성한다.  

컴파일러가(Synthetic) 정적 메서드를 생성 후 참조하기 때문에 마찬가지로 다른 정적 메서드도 참조할 수 있다.  


## VS 익명 클래스

람다와 익명 클래스는 비슷하지만, 람다는 익명 클래스의 축약형이다.  
람다는 익명 클래스보다 더 간결하고 가독성이 좋다.  

익명 클래스는 컴파일시 .class 파일이 생성되지만,  
람다는 컴파일 시점에 바이트코드로 변환된다.  

| 항목 | 람다 | 익명 클래스 |
|------|------|-------------|
| 대상 | 함수형 인터페이스만 가능 | 어떤 인터페이스든 가능 |
| 객체 생성 시점 | 런타임에 객체 동적 생성 (`invokedynamic`) | 컴파일 시점에 `.class` 파일 생성 |
| 최적화 | JVM 최적화에 유리 | 비교적 무겁고 비효율적 |
| `this` 참조 | 외부 클래스의 `this` | 자기 자신의 `this` |
| 특징 | 간결함과 성능 측면에서 우수 | 유연성은 더 높음 (여러 메서드, 상태 등 구현 가능) |
